@model Payrollfix_poc.Models.Leave

<div class="modal fade" id="applyLeaveModal" tabindex="-1" role="dialog" aria-labelledby="applyLeaveLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="applyLeaveLabel">Apply for Leave</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<form asp-action="ApplyLeave" asp-controller="Leave" method="post" onsubmit="return validateDates()">
					<input type="hidden" asp-for="EmployeeId" value="@Model.EmployeeId" />
					<div class="form-group">
						<label for="LeaveType">Leave Type</label>
						<input asp-for="LeaveType" class="form-control" />
						<span asp-validation-for="LeaveType" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label for="StartDate">Start Date</label>
						<input asp-for="StartDate" id="startDate" class="form-control" type="date" />
						<span asp-validation-for="StartDate" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label for="EndDate">End Date</label>
						<input asp-for="EndDate" id="endDate" class="form-control" type="date" />
						<span asp-validation-for="EndDate" class="text-danger"></span>
					</div>
					<div class="form-group">
						<label for="Reason">Reason</label>
						<textarea asp-for="Reason" class="form-control"></textarea>
						<span asp-validation-for="Reason" class="text-danger"></span>
					</div>
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	function validateDates() {
		var startDate = document.getElementById('startDate').value;
		var endDate = document.getElementById('endDate').value;

		if (new Date(endDate) < new Date(startDate)) {
			alert("End Date must be the same as or after Start Date.");
			return false; // Prevent form submission
		}
		return true; // Allow form submission
	}
</script>
